<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous" />
  <script src="static/script/upload.js"></script>
  <!-- Load TensorFlow.js. This is required to use MobileNet. -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@1.0.1"> </script>
  <!-- Load the MobileNet model. -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/mobilenet@1.0.0"> </script>
  <title>CIS4496 GAN Project Dashboard</title>
</head>

<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">CIS4496 GAN Project</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown"
        aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="{{ url_for('about') }}">About</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
  <main>
    <div class="position-relative overflow-hidden p-3 p-md-5 m-md-3 text-center bg-light text-white" style="background-image: url('static/style/wp3167197.jpg');
        height: 100vh;">
      <div class="col-md-5 p-lg-5 mx-auto my-5 bg-dark">
        <h1 class="display-4 fw-normal">Temple University CIS 4496</h1>
        <p class="lead fw-normal">Our project aims to use Generative Adversarial Networks (GANs), particularly,
          the CycleGAN architecture to implement machine learning models that can transfer photos to paintings by famous
          artists like
          Monet, Van Gogh, Picasso, and etc.
        </p>
        <a class="btn btn-link" href="{{ url_for('about') }}">For more information, please click here.</a>
      </div>
      <div class="product-device shadow-sm d-none d-md-block"></div>
      <div class="product-device product-device-2 shadow-sm d-none d-md-block"></div>
    </div>
  </main>
  <div class="container col-md-6">
    <div class="mb-5">
      <label for="Image" class="form-label">Upload your image here</label>
      <input class="form-control" type="file" id="formFile" onchange="preview()">
      <div class="btn-group" role="group" aria-label="Button group with nested dropdown">
        <button onclick="clearImage()" class="btn btn-primary mt-3">Click here to clear</button>
        <button onclick="classifyMyImg()" class="btn btn-danger mt-3">Classify me</button>
        <button class="btn btn-warning mt-3 dropdown-toggle" type="button" id="dropdownMenuButton1"
          data-bs-toggle="dropdown" aria-expanded="false">
          Artists Style
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton1">
          <li><a class="dropdown-item" onclick="showArtists(this)">Monet</a></li>
          <li><a class="dropdown-item" onclick="showArtists(this)">Van Gogh</a></li>
          <li><a class="dropdown-item" onclick="showArtists(this)">Picasso</a></li>
        </ul>
        <form method="post" action="/">
          <button type="submit" value="Convert" class="btn btn-info mt-3">Convert</button>
        </form>
      </div>
    </div>
    <div class="container-fluid">
      <div class="row">
        <div class="card" style="width: 18rem;">
          <img id="frame" src="" class="card-img-top img-fluid">
          <div class="card-body">
            <p id="frametext" class="card-text"></p>
          </div>
        </div>
        <div class="card" style="width: 18rem;">
          <img id="frame2" src="" class="card-img-top img-fluid">
          <div class="card-body">
            <p id="frametext" class="card-text"></p>
          </div>
        </div>
      </div>
    </div>
    {% if name %}
    {{name}} says:
    {% endif %}
  </div>
  <footer class="container">
    <p>Â© Temple University</p>
  </footer>
  <script>
    function classifyMyImg() {
      const img = document.getElementById("frame");
      const predictionText = document.getElementById("frametext");
      //load the classification model
      mobilenet.load().then(model => {
        //classify the image
        model.classify(img).then(predictions => {
          predictionText.innerText = JSON.stringify(predictions);
        });
      });
    }
    function showArtists(item) {
      document.getElementById("dropdownMenuButton1").innerHTML = item.innerHTML;
    }
  </script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
    crossorigin="anonymous"></script>
</body>

</html>